
<!DOCTYPE html>
<html lang="ja">
<head>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-LXY7TPSE5S"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-LXY7TPSE5S');
</script>
  
  <meta charset="UTF-8">
  <title>現在地の取得</title>
  <style>
    body {
      font-family: sans-serif;
      padding: 2rem;
      background-color: #e69898;
    }
    #location {
      font-size: 1.2rem;
      margin-top: 1rem;
    }
  </style>
</head>
<body>
  <h1>現在の位置情報</h1>
  <button onclick="getLocation()">位置情報を取得</button>
  <div id="location">位置情報を取得するには、上のボタンを押してください。</div>

  <script>
    function getLocation() {
      const locationElement = document.getElementById("location");

      if (!navigator.geolocation) {
        locationElement.textContent = "このブラウザでは位置情報がサポートされていません。";
        return;
      }

      navigator.geolocation.getCurrentPosition(
        (position) => {
          const lat = position.coords.latitude.toFixed(6);
          const lon = position.coords.longitude.toFixed(6);
          locationElement.innerHTML = `緯度: ${lat}<br>経度: ${lon}`;
        },
        (error) => {
          switch(error.code) {
            case error.PERMISSION_DENIED:
              locationElement.textContent = "位置情報の取得が許可されていません。";
              break;
            case error.POSITION_UNAVAILABLE:
              locationElement.textContent = "位置情報が利用できません。";
              break;
            case error.TIMEOUT:
              locationElement.textContent = "位置情報の取得がタイムアウトしました。";
              break;
            default:
              locationElement.textContent = "位置情報の取得中に不明なエラーが発生しました。";
              break;
          }
        },
        {
          enableHighAccuracy: true,
          timeout: 10000,
          maximumAge: 0
        }
      );
    }
  </script>
</body>
</html>

